import{u as v,a as y,b as f,j as e,F as r}from"./components-B71KIw6b.js";import{S as N,H as b}from"./header-BHzBVBdg.js";import{B as l}from"./button-CpX_ak2_.js";import{I as o}from"./input-gR889RM_.js";import{C as i,b as x,c as h,d as p,a as t}from"./card-D6xvUs-C.js";import{c as A}from"./createLucideIcon-DDdTbUiS.js";import{P}from"./plus-DNHlCd_Y.js";import{Z as u}from"./zap-CrcmDB4d.js";import{T as k}from"./trash-2-DSCc9uhn.js";import"./users-TLTQjisN.js";import"./send-Du1D2yV1.js";import"./bar-chart-3-CLxhACnx.js";import"./logo-CCAmY4eY.js";const I=A("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),n=[{id:"sendgrid",name:"SendGrid",description:"Reliable email delivery service with excellent deliverability",setupUrl:"https://app.sendgrid.com/settings/api_keys",logo:"ðŸ“§"},{id:"mailgun",name:"Mailgun",description:"Powerful email API for developers",setupUrl:"https://app.mailgun.com/app/account/security/api_keys",logo:"ðŸ”«"},{id:"postmark",name:"Postmark",description:"Fast and reliable transactional email service",setupUrl:"https://account.postmarkapp.com/api_tokens",logo:"ðŸ“®"},{id:"ses",name:"Amazon SES",description:"Cost-effective email service from AWS",setupUrl:"https://console.aws.amazon.com/ses/",logo:"â˜ï¸"}];function B(){const{user:j,emailApis:d}=v(),a=y(),c=f().state==="submitting";return e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[e.jsx(N,{}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(b,{user:j}),e.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Email APIs"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Configure email service providers to send your campaigns through their APIs."})]}),e.jsxs(i,{className:"mb-8",children:[e.jsxs(x,{children:[e.jsx(h,{children:"Available Email Providers"}),e.jsx(p,{children:"Choose from popular email service providers"})]}),e.jsx(t,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(s=>e.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:s.logo}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.description})]})]}),e.jsx("a",{href:s.setupUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-500",children:e.jsx(I,{className:"h-4 w-4"})})]})},s.id))})})]}),e.jsxs(i,{className:"mb-8",children:[e.jsxs(x,{children:[e.jsxs(h,{className:"flex items-center",children:[e.jsx(P,{className:"h-5 w-5 mr-2"}),"Add Email API"]}),e.jsx(p,{children:"Configure a new email service provider"})]}),e.jsx(t,{children:e.jsxs(r,{method:"post",className:"space-y-4",children:[e.jsx("input",{type:"hidden",name:"_action",value:"create"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Configuration Name"}),e.jsx(o,{name:"name",placeholder:"e.g., SendGrid Production",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Provider"}),e.jsxs("select",{name:"provider",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select Provider"}),n.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"API Key"}),e.jsx(o,{name:"apiKey",type:"password",placeholder:"Your API key",required:!0})]})]}),(a==null?void 0:a.error)&&e.jsx("div",{className:"text-red-600 text-sm",children:a.error}),e.jsx(l,{type:"submit",disabled:c,children:c?"Adding...":"Add Email API"})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Your Email API Configurations"}),d.length===0?e.jsx(i,{children:e.jsxs(t,{className:"text-center py-8",children:[e.jsx(u,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-gray-600",children:"No email APIs configured yet. Add one above to get started."})]})}):e.jsx("div",{className:"grid gap-4",children:d.map(s=>{var m;return e.jsx(i,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-50 mr-4",children:e.jsx(u,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600",children:((m=n.find(g=>g.id===s.provider))==null?void 0:m.name)||s.provider}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${s.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.is_active?"Active":"Inactive"}),e.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["API Key: ****",s.api_key.slice(-4)]})]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(r,{method:"post",className:"inline",children:[e.jsx("input",{type:"hidden",name:"_action",value:"toggle"}),e.jsx("input",{type:"hidden",name:"apiId",value:s.id}),e.jsx("input",{type:"hidden",name:"isActive",value:s.is_active}),e.jsx(l,{type:"submit",variant:"outline",size:"sm",children:s.is_active?"Deactivate":"Activate"})]}),e.jsxs(r,{method:"post",className:"inline",children:[e.jsx("input",{type:"hidden",name:"_action",value:"delete"}),e.jsx("input",{type:"hidden",name:"apiId",value:s.id}),e.jsx(l,{type:"submit",variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",children:e.jsx(k,{className:"h-4 w-4"})})]})]})]})})},s.id)})})]})]})})]})]})}export{B as default};
