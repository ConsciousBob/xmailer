import{u as n,a as d,b as m,j as e,F as c}from"./components-B71KIw6b.js";function x(){var a,i;const{smtpSettings:t}=n(),s=d(),l=m(),r=l.state==="submitting",o=(a=l.formData)==null?void 0:a.get("_action");return e.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"SMTP Settings"}),e.jsxs(c,{method:"post",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"host",className:"block text-sm font-medium mb-1",children:"SMTP Host"}),e.jsx("input",{type:"text",id:"host",name:"host",defaultValue:t.host,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"smtp.postmarkapp.com",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For Postmark: smtp.postmarkapp.com (will use API for better reliability)"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"port",className:"block text-sm font-medium mb-1",children:"SMTP Port"}),e.jsx("input",{type:"number",id:"port",name:"port",defaultValue:t.port,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"587",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use 587 for TLS or 465 for SSL"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"user",className:"block text-sm font-medium mb-1",children:"Username / API Token"}),e.jsx("input",{type:"text",id:"user",name:"user",defaultValue:t.user,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"your-server-api-token",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For Postmark: Use your Server API Token"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"pass",className:"block text-sm font-medium mb-1",children:"Password / API Token"}),e.jsx("input",{type:"password",id:"pass",name:"pass",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"your-server-api-token",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For Postmark: Use the same Server API Token as username"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"fromEmail",className:"block text-sm font-medium mb-1",children:"From Email Address"}),e.jsx("input",{type:"email",id:"fromEmail",name:"fromEmail",defaultValue:t.fromEmail,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"noreply@yourdomain.com",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must be a verified sender in Postmark"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"testEmail",className:"block text-sm font-medium mb-1",children:"Test Email Address"}),e.jsx("input",{type:"email",id:"testEmail",name:"testEmail",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"test@example.com"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email address to send test email to"})]}),e.jsxs("div",{className:"flex gap-4 flex-wrap",children:[e.jsx("button",{type:"submit",name:"_action",value:"test",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",disabled:r,children:r&&o==="test"?"Testing...":"Test Connection"}),e.jsx("button",{type:"submit",name:"_action",value:"send-test",className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 disabled:opacity-50",disabled:r,children:r&&o==="send-test"?"Sending...":"Send Test Email"}),e.jsx("button",{type:"submit",name:"_action",value:"save",className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50",disabled:r,children:r&&o==="save"?"Saving...":"Save Settings"})]})]}),s&&e.jsxs("div",{className:`mt-4 p-4 rounded-md ${s.success?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[e.jsx("div",{className:"font-medium",children:s.success?"Success!":"Error!"}),e.jsx("div",{className:"mt-1",children:s.message||s.error})]}),e.jsxs("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-md",children:[e.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Email Provider Configuration:"}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-3",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Postmark (Recommended):"}),e.jsxs("ul",{className:"ml-4 mt-1 space-y-1",children:[e.jsx("li",{children:"• Host: smtp.postmarkapp.com"}),e.jsx("li",{children:"• Port: 587"}),e.jsx("li",{children:"• Username & Password: Your Server API Token"}),e.jsx("li",{children:"• Uses API for better reliability in WebContainer"})]})]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Gmail:"}),e.jsxs("ul",{className:"ml-4 mt-1 space-y-1",children:[e.jsx("li",{children:"• Host: smtp.gmail.com"}),e.jsx("li",{children:"• Port: 587"}),e.jsx("li",{children:"• Username: Your Gmail address"}),e.jsx("li",{children:"• Password: App-specific password (not your regular password)"})]})]})]})]}),s&&!s.success&&((i=s.error)==null?void 0:i.includes("timeout"))&&e.jsxs("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-md",children:[e.jsx("div",{className:"font-medium text-yellow-800",children:"Network Timeout Notice"}),e.jsx("div",{className:"mt-1 text-sm text-yellow-700",children:"SMTP connections may be restricted in this environment. For Postmark users, the system will automatically use the API instead of SMTP for better reliability."})]})]})}export{x as default};
