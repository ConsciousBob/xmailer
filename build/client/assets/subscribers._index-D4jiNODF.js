import{u as b,j as e,L as a}from"./components-B71KIw6b.js";import{S as f,H as y}from"./header-BHzBVBdg.js";import{B as r}from"./button-CpX_ak2_.js";import{C as t,a as l,b as N,c as g,d as v}from"./card-D6xvUs-C.js";import{I as w}from"./input-gR889RM_.js";import{P as n}from"./plus-DNHlCd_Y.js";import{S}from"./search-D3iH17Gw.js";import{U as C}from"./users-TLTQjisN.js";import"./createLucideIcon-DDdTbUiS.js";import"./send-Du1D2yV1.js";import"./bar-chart-3-CLxhACnx.js";import"./logo-CCAmY4eY.js";function M(){const{user:j,subscribers:i,error:x}=b(),u=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),p=s=>{switch(s){case"subscribed":return"bg-green-100 text-green-800";case"unsubscribed":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[e.jsx(f,{}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(y,{user:j}),e.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Subscribers"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your email subscribers and their preferences."})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(a,{to:"/subscribers/import",children:e.jsxs(r,{variant:"outline",children:[e.jsx(n,{className:"h-4 w-4 mr-2"}),"Import Subscribers"]})}),e.jsx(a,{to:"/subscribers/new",children:e.jsxs(r,{children:[e.jsx(n,{className:"h-4 w-4 mr-2"}),"Add Subscriber"]})})]})]}),x&&e.jsx(t,{className:"mb-6 border-red-200 bg-red-50",children:e.jsx(l,{className:"p-4",children:e.jsx("p",{className:"text-red-800",children:x})})}),e.jsx(t,{className:"mb-6",children:e.jsx(l,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(S,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(w,{placeholder:"Search subscribers by email or name...",className:"pl-10"})]}),e.jsx(r,{variant:"outline",children:"Filter"})]})})}),i.length===0?e.jsx(t,{children:e.jsxs(l,{className:"text-center py-12",children:[e.jsx(C,{className:"h-16 w-16 mx-auto mb-4 text-gray-300"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No subscribers yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Start building your audience by adding your first subscriber."}),e.jsxs("div",{className:"flex justify-center space-x-3",children:[e.jsx(a,{to:"/subscribers/new",children:e.jsxs(r,{children:[e.jsx(n,{className:"h-4 w-4 mr-2"}),"Add Subscriber"]})}),e.jsx(a,{to:"/subscribers/import",children:e.jsx(r,{variant:"outline",children:"Import from CSV"})})]})]})}):e.jsxs(t,{children:[e.jsxs(N,{children:[e.jsxs(g,{children:["All Subscribers (",i.length,")"]}),e.jsx(v,{children:"Manage and view all your email subscribers"})]}),e.jsx(l,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Subscriber"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Lists"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Subscribed"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Actions"})]})}),e.jsx("tbody",{children:i.map(s=>{var d,m;return e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-gray-900",children:[s.first_name," ",s.last_name]}),e.jsx("div",{className:"text-sm text-gray-600",children:s.email})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${p(s.status)}`,children:s.status})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[(d=s.list_subscribers)==null?void 0:d.slice(0,3).map(c=>{var o,h;return e.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800",children:[e.jsx("div",{className:"w-2 h-2 rounded-full mr-1",style:{backgroundColor:((o=c.lists)==null?void 0:o.color)||"#gray"}}),((h=c.lists)==null?void 0:h.name)||"Unknown"]},c.list_id)}),((m=s.list_subscribers)==null?void 0:m.length)>3&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+",s.list_subscribers.length-3," more"]})]})}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:u(s.created_at)}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(a,{to:`/subscribers/${s.id}`,children:e.jsx(r,{variant:"outline",size:"sm",children:"View"})}),e.jsx(a,{to:`/subscribers/${s.id}/edit`,children:e.jsx(r,{variant:"outline",size:"sm",children:"Edit"})})]})})]},s.id)})})]})})})]})]})})]})]})}export{M as default};
