import{u,a as N,b as g,j as e,F as c}from"./components-B71KIw6b.js";import{S as y,H as b}from"./header-BHzBVBdg.js";import{B as t}from"./button-CpX_ak2_.js";import{I as d}from"./input-gR889RM_.js";import{C as a,a as l,b as o,c as h,d as p}from"./card-D6xvUs-C.js";import{U as f}from"./upload-DFgZRpj7.js";import{c as v}from"./createLucideIcon-DDdTbUiS.js";import{U as r}from"./users-TLTQjisN.js";import{P as w}from"./plus-DNHlCd_Y.js";import{T as A}from"./trash-2-DSCc9uhn.js";import"./send-Du1D2yV1.js";import"./bar-chart-3-CLxhACnx.js";import"./logo-CCAmY4eY.js";const k=v("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);function q(){const{user:j,subscribers:m,stats:n}=u(),i=N(),x=g().state==="submitting";return e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[e.jsx(y,{}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(b,{user:j}),e.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Recipients"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your email recipient lists and subscriptions."})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs(t,{variant:"outline",children:[e.jsx(f,{className:"h-4 w-4 mr-2"}),"Import CSV"]}),e.jsxs(t,{variant:"outline",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx(a,{children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-50",children:e.jsx(r,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Recipients"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.total})]})]})})}),e.jsx(a,{children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 rounded-lg bg-green-50",children:e.jsx(r,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Subscribed"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.subscribed})]})]})})}),e.jsx(a,{children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 rounded-lg bg-red-50",children:e.jsx(r,{className:"h-6 w-6 text-red-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Unsubscribed"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.unsubscribed})]})]})})})]}),e.jsxs(a,{className:"mb-8",children:[e.jsxs(o,{children:[e.jsxs(h,{className:"flex items-center",children:[e.jsx(w,{className:"h-5 w-5 mr-2"}),"Add New Recipient"]}),e.jsx(p,{children:"Add individual recipients to your email list"})]}),e.jsx(l,{children:e.jsxs(c,{method:"post",className:"space-y-4",children:[e.jsx("input",{type:"hidden",name:"_action",value:"add"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),e.jsx(d,{name:"email",type:"email",placeholder:"john@example.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),e.jsx(d,{name:"firstName",placeholder:"John"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),e.jsx(d,{name:"lastName",placeholder:"Doe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (comma-separated)"}),e.jsx(d,{name:"tags",placeholder:"newsletter, customer"})]})]}),(i==null?void 0:i.error)&&e.jsx("div",{className:"text-red-600 text-sm",children:i.error}),e.jsx(t,{type:"submit",disabled:x,children:x?"Adding...":"Add Recipient"})]})})]}),e.jsxs(a,{children:[e.jsxs(o,{children:[e.jsx(h,{children:"All Recipients"}),e.jsx(p,{children:"Manage your email recipients and their subscription status"})]}),e.jsx(l,{children:m.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(r,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-gray-600",children:"No recipients yet. Add some recipients to get started."})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Email"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Name"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Tags"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Actions"})]})}),e.jsx("tbody",{children:m.map(s=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4 text-sm text-gray-900",children:s.email}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:[s.first_name,s.last_name].filter(Boolean).join(" ")||"-"}),e.jsx("td",{className:"py-3 px-4 text-sm",children:e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsx("td",{className:"py-3 px-4 text-sm",children:e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${s.status==="subscribed"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.status==="subscribed"?"Subscribed":"Unsubscribed"})}),e.jsx("td",{className:"py-3 px-4 text-sm",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(c,{method:"post",className:"inline",children:[e.jsx("input",{type:"hidden",name:"_action",value:"toggle-subscription"}),e.jsx("input",{type:"hidden",name:"subscriberId",value:s.id}),e.jsx("input",{type:"hidden",name:"status",value:s.status}),e.jsx(t,{type:"submit",variant:"outline",size:"sm",children:s.status==="subscribed"?"Unsubscribe":"Subscribe"})]}),e.jsxs(c,{method:"post",className:"inline",children:[e.jsx("input",{type:"hidden",name:"_action",value:"delete"}),e.jsx("input",{type:"hidden",name:"subscriberId",value:s.id}),e.jsx(t,{type:"submit",variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",children:e.jsx(A,{className:"h-4 w-4"})})]})]})})]},s.id))})]})})})]})]})})]})]})}export{q as default};
