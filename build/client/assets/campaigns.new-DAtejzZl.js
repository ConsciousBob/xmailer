import{u as b,a as N,b as f,j as e,L as h,F as y}from"./components-B71KIw6b.js";import{S as v,H as w}from"./header-BHzBVBdg.js";import{B as t}from"./button-CpX_ak2_.js";import{I as n}from"./input-gR889RM_.js";import{C as r,a as l,b as d,c as m,d as o}from"./card-D6xvUs-C.js";import{T as C}from"./textarea-CF-GwTTr.js";import{A as S}from"./arrow-left-CfikeANU.js";import{S as k}from"./save-CqtvPiWF.js";import{Z as L}from"./zap-CrcmDB4d.js";import{C as T}from"./clock-BgQUbWRG.js";import"./users-TLTQjisN.js";import"./createLucideIcon-DDdTbUiS.js";import"./send-Du1D2yV1.js";import"./bar-chart-3-CLxhACnx.js";import"./logo-CCAmY4eY.js";function J(){const{user:p,lists:c,error:u}=b(),a=N(),i=f().state==="submitting",g=new Date,x=new Date(g);x.setDate(x.getDate()+1);const j=x.toISOString().split("T")[0];return e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[e.jsx(v,{}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(w,{user:p}),e.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center mb-8",children:[e.jsx(h,{to:"/campaigns",className:"mr-4",children:e.jsxs(t,{variant:"outline",size:"sm",children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Back to Campaigns"]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Create New Campaign"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Design and send your email campaign to your audience."})]})]}),u&&e.jsx(r,{className:"mb-6 border-red-200 bg-red-50",children:e.jsx(l,{className:"p-4",children:e.jsx("p",{className:"text-red-800",children:u})})}),e.jsxs(y,{method:"post",className:"space-y-8",children:[e.jsxs(r,{children:[e.jsxs(d,{children:[e.jsx(m,{children:"Campaign Details"}),e.jsx(o,{children:"Basic information about your email campaign"})]}),e.jsxs(l,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Campaign Name *"}),e.jsx(n,{name:"name",placeholder:"e.g., Weekly Newsletter - January 2024",required:!0,className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Subject *"}),e.jsx(n,{name:"subject",placeholder:"e.g., Your Weekly Update from xMailer",required:!0,className:"w-full"})]})]})]}),e.jsxs(r,{children:[e.jsxs(d,{children:[e.jsx(m,{children:"Email Content"}),e.jsx(o,{children:"Write your email content (HTML supported)"})]}),e.jsxs(l,{children:[e.jsx(C,{name:"content",placeholder:"Write your email content here. HTML is supported for formatting.",required:!0,className:"w-full min-h-[300px]"}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"HTML tags are supported for formatting your email content."})]})]}),e.jsxs(r,{children:[e.jsxs(d,{children:[e.jsx(m,{children:"Audience Targeting"}),e.jsx(o,{children:"Choose who will receive this campaign"})]}),e.jsxs(l,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"targetAllSubscribers",name:"targetAllSubscribers",value:"true",className:"rounded border-gray-300"}),e.jsx("label",{htmlFor:"targetAllSubscribers",className:"text-sm font-medium text-gray-700",children:"Target all subscribers"})]}),c.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Include Lists"}),e.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:c.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:`include-${s.id}`,name:"includeLists",value:s.id,className:"rounded border-gray-300"}),e.jsxs("label",{htmlFor:`include-${s.id}`,className:"text-sm text-gray-700 flex items-center",children:[e.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:s.color}}),s.name," (",s.subscribed_members||0," subscribers)"]})]},s.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Exclude Lists (Optional)"}),e.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:c.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:`exclude-${s.id}`,name:"excludeLists",value:s.id,className:"rounded border-gray-300"}),e.jsxs("label",{htmlFor:`exclude-${s.id}`,className:"text-sm text-gray-700 flex items-center",children:[e.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:s.color}}),s.name]})]},s.id))})]})]}),c.length===0&&e.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have any active lists yet."}),e.jsx(h,{to:"/lists",children:e.jsx(t,{variant:"outline",children:"Create Your First List"})})]})]})]}),e.jsxs(r,{children:[e.jsxs(d,{children:[e.jsx(m,{children:"Scheduling Options"}),e.jsx(o,{children:"Choose when to send your campaign"})]}),e.jsxs(l,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Schedule Date"}),e.jsx(n,{type:"date",name:"scheduledDate",defaultValue:j,min:j,className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Schedule Time"}),e.jsx(n,{type:"time",name:"scheduledTime",defaultValue:"09:00",className:"w-full"})]})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Leave date and time fields for immediate sending, or set them for scheduled delivery."})]})]}),(a==null?void 0:a.error)&&e.jsx(r,{className:"border-red-200 bg-red-50",children:e.jsx(l,{className:"p-4",children:e.jsx("p",{className:"text-red-800",children:a.error})})}),(a==null?void 0:a.success)&&e.jsx(r,{className:"border-green-200 bg-green-50",children:e.jsxs(l,{className:"p-4",children:[e.jsx("p",{className:"text-green-800",children:a.success}),a.campaignId&&e.jsx("div",{className:"mt-2",children:e.jsx(h,{to:`/campaigns/${a.campaignId}`,children:e.jsx(t,{variant:"outline",size:"sm",children:"View Campaign"})})})]})}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs(t,{type:"submit",name:"_action",value:"save",variant:"outline",disabled:i,children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),i?"Saving...":"Save as Draft"]}),e.jsxs(t,{type:"submit",name:"_action",value:"send",disabled:i,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),i?"Sending...":"Send Now"]}),e.jsxs(t,{type:"submit",name:"_action",value:"schedule",disabled:i,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),i?"Scheduling...":"Schedule Campaign"]})]})]})]})})]})]})}export{J as default};
