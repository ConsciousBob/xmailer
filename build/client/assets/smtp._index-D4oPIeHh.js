import{u as j,a as g,b as y,j as e,F as n}from"./components-B71KIw6b.js";import{S as N,H as b,a as v,b as f}from"./header-BHzBVBdg.js";import{B as c}from"./button-CpX_ak2_.js";import{I as r}from"./input-gR889RM_.js";import{C as t,a as l,b as x,c as u,d as h}from"./card-D6xvUs-C.js";import{P as S}from"./plus-DNHlCd_Y.js";import{C as w}from"./check-circle-BhPuD76u.js";import{c as P}from"./createLucideIcon-DDdTbUiS.js";import{T as C}from"./trash-2-DSCc9uhn.js";import"./users-TLTQjisN.js";import"./send-Du1D2yV1.js";import"./bar-chart-3-CLxhACnx.js";import"./logo-CCAmY4eY.js";const T=P("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),M=[{name:"Gmail",host:"smtp.gmail.com",port:587,secure:!0,instructions:"Use your Gmail address and App Password (not regular password)"},{name:"Outlook/Hotmail",host:"smtp-mail.outlook.com",port:587,secure:!0,instructions:"Use your Outlook email and password"},{name:"Yahoo Mail",host:"smtp.mail.yahoo.com",port:587,secure:!0,instructions:"Use your Yahoo email and App Password"},{name:"Custom SMTP",host:"mail.yourdomain.com",port:587,secure:!0,instructions:"Contact your hosting provider for SMTP details"}];function $(){const{user:p,smtpConfigs:m,error:o}=j(),a=g(),i=y().state==="submitting";return e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[e.jsx(N,{}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(b,{user:p}),e.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"SMTP Configuration"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Configure your SMTP servers to send emails through your own mail servers."})]}),o&&e.jsx(t,{className:"mb-6 border-red-200 bg-red-50",children:e.jsx(l,{className:"p-4",children:e.jsx("p",{className:"text-red-800",children:o})})}),e.jsxs(t,{className:"mb-8",children:[e.jsxs(x,{children:[e.jsx(u,{children:"Popular SMTP Providers"}),e.jsx(h,{children:"Quick setup guides for common email providers"})]}),e.jsx(l,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:M.map((s,d)=>e.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:s.name}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Host:"})," ",s.host]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Port:"})," ",s.port]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Security:"})," ",s.secure?"SSL/TLS":"None"]}),e.jsx("p",{className:"text-xs mt-2 text-blue-600",children:s.instructions})]})]},d))})})]}),e.jsxs(t,{className:"mb-8",children:[e.jsxs(x,{children:[e.jsxs(u,{className:"flex items-center",children:[e.jsx(S,{className:"h-5 w-5 mr-2"}),"Add SMTP Configuration"]}),e.jsx(h,{children:"Connect your SMTP server to send emails"})]}),e.jsx(l,{children:e.jsxs(n,{method:"post",className:"space-y-6",children:[e.jsx("input",{type:"hidden",name:"_action",value:"create"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Configuration Name *"}),e.jsx(r,{name:"name",placeholder:"e.g., Gmail SMTP",required:!0,className:"w-full"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"A friendly name to identify this configuration"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SMTP Host *"}),e.jsx(r,{name:"host",placeholder:"e.g., smtp.gmail.com",required:!0,className:"w-full"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Your SMTP server hostname"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Port *"}),e.jsx(r,{name:"port",type:"number",placeholder:"587",min:"1",max:"65535",defaultValue:"587",required:!0,className:"w-full"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Common ports: 587 (TLS), 465 (SSL), 25 (unsecured)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username *"}),e.jsx(r,{name:"username",placeholder:"your-email@gmail.com",required:!0,className:"w-full"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Usually your email address"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),e.jsx(r,{name:"password",type:"password",placeholder:"Your password or app password",required:!0,className:"w-full"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For Gmail, use an App Password instead of your regular password"})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"secure",id:"secure",defaultChecked:!0,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"secure",className:"ml-2 text-sm text-gray-700",children:"Use SSL/TLS encryption (recommended)"})]})})]}),(a==null?void 0:a.error)&&e.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md",children:a.error}),(a==null?void 0:a.success)&&e.jsx("div",{className:"text-green-600 text-sm bg-green-50 p-3 rounded-md",children:a.success}),e.jsx(c,{type:"submit",disabled:i,className:"w-full md:w-auto",children:i?"Adding...":"Add SMTP Configuration"})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(v,{className:"h-5 w-5 mr-2"}),"Your SMTP Configurations"]}),m.length===0?e.jsx(t,{children:e.jsxs(l,{className:"text-center py-12",children:[e.jsx(f,{className:"h-16 w-16 mx-auto mb-4 text-gray-300"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No SMTP configurations yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Add your first SMTP configuration above to start sending emails."})]})}):e.jsx("div",{className:"grid gap-6",children:m.map(s=>e.jsx(t,{className:"hover:shadow-md transition-shadow",children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:`p-3 rounded-lg ${s.is_active?"bg-green-50":"bg-gray-50"}`,children:s.is_active?e.jsx(w,{className:"h-6 w-6 text-green-600"}):e.jsx(T,{className:"h-6 w-6 text-gray-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-lg",children:s.name}),e.jsxs("div",{className:"mt-2 space-y-1 text-sm text-gray-600",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Host:"})," ",s.host,":",s.port]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Username:"})," ",s.username]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Security:"})," ",s.secure?"SSL/TLS Enabled":"No Encryption"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Created:"})," ",new Date(s.created_at).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center mt-3 space-x-3",children:[e.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${s.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.is_active?"Active":"Inactive"}),s.secure&&e.jsx("span",{className:"px-3 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"Encrypted"})]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(n,{method:"post",className:"inline",children:[e.jsx("input",{type:"hidden",name:"_action",value:"toggle"}),e.jsx("input",{type:"hidden",name:"configId",value:s.id}),e.jsx("input",{type:"hidden",name:"isActive",value:s.is_active}),e.jsx(c,{type:"submit",variant:"outline",size:"sm",disabled:i,children:s.is_active?"Deactivate":"Activate"})]}),e.jsxs(n,{method:"post",className:"inline",children:[e.jsx("input",{type:"hidden",name:"_action",value:"delete"}),e.jsx("input",{type:"hidden",name:"configId",value:s.id}),e.jsx(c,{type:"submit",variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:border-red-300",disabled:i,onClick:d=>{confirm("Are you sure you want to delete this SMTP configuration?")||d.preventDefault()},children:e.jsx(C,{className:"h-4 w-4"})})]})]})]})})},s.id))})]})]})})]})]})}export{$ as default};
