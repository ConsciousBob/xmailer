import{a as b}from"/build/_shared/chunk-SXEFWORF.js";import{a as f}from"/build/_shared/chunk-PGOH7JLP.js";import{e as n,i as l,m,n as c,q as u}from"/build/_shared/chunk-2HORKBMA.js";import{c as o}from"/build/_shared/chunk-Q3IECNXJ.js";var g=o(f(),1);var d=o(b(),1),e=o(u(),1);function p(){let{smtpSettings:r}=m(),s=c(),i=n(),t=i.state==="submitting",a=i.formData?.get("_action");return(0,e.jsxs)("div",{className:"max-w-2xl mx-auto p-6",children:[(0,e.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"SMTP Settings"}),(0,e.jsxs)(l,{method:"post",className:"space-y-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{htmlFor:"host",className:"block text-sm font-medium mb-1",children:"SMTP Host"}),(0,e.jsx)("input",{type:"text",id:"host",name:"host",defaultValue:r.host,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"smtp.postmarkapp.com",required:!0}),(0,e.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"For Postmark: smtp.postmarkapp.com (will use API for better reliability)"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{htmlFor:"port",className:"block text-sm font-medium mb-1",children:"SMTP Port"}),(0,e.jsx)("input",{type:"number",id:"port",name:"port",defaultValue:r.port,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"587",required:!0}),(0,e.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Use 587 for TLS or 465 for SSL"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{htmlFor:"user",className:"block text-sm font-medium mb-1",children:"Username / API Token"}),(0,e.jsx)("input",{type:"text",id:"user",name:"user",defaultValue:r.user,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"your-server-api-token",required:!0}),(0,e.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"For Postmark: Use your Server API Token"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{htmlFor:"pass",className:"block text-sm font-medium mb-1",children:"Password / API Token"}),(0,e.jsx)("input",{type:"password",id:"pass",name:"pass",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"your-server-api-token",required:!0}),(0,e.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"For Postmark: Use the same Server API Token as username"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{htmlFor:"fromEmail",className:"block text-sm font-medium mb-1",children:"From Email Address"}),(0,e.jsx)("input",{type:"email",id:"fromEmail",name:"fromEmail",defaultValue:r.fromEmail,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"noreply@yourdomain.com",required:!0}),(0,e.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Must be a verified sender in Postmark"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{htmlFor:"testEmail",className:"block text-sm font-medium mb-1",children:"Test Email Address"}),(0,e.jsx)("input",{type:"email",id:"testEmail",name:"testEmail",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"test@example.com"}),(0,e.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Email address to send test email to"})]}),(0,e.jsxs)("div",{className:"flex gap-4 flex-wrap",children:[(0,e.jsx)("button",{type:"submit",name:"_action",value:"test",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",disabled:t,children:t&&a==="test"?"Testing...":"Test Connection"}),(0,e.jsx)("button",{type:"submit",name:"_action",value:"send-test",className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 disabled:opacity-50",disabled:t,children:t&&a==="send-test"?"Sending...":"Send Test Email"}),(0,e.jsx)("button",{type:"submit",name:"_action",value:"save",className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50",disabled:t,children:t&&a==="save"?"Saving...":"Save Settings"})]})]}),s&&(0,e.jsxs)("div",{className:`mt-4 p-4 rounded-md ${s.success?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[(0,e.jsx)("div",{className:"font-medium",children:s.success?"Success!":"Error!"}),(0,e.jsx)("div",{className:"mt-1",children:s.message||s.error})]}),(0,e.jsxs)("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-md",children:[(0,e.jsx)("h3",{className:"font-medium text-blue-900 mb-2",children:"Email Provider Configuration:"}),(0,e.jsxs)("div",{className:"text-sm text-blue-800 space-y-3",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("strong",{children:"Postmark (Recommended):"}),(0,e.jsxs)("ul",{className:"ml-4 mt-1 space-y-1",children:[(0,e.jsx)("li",{children:"\u2022 Host: smtp.postmarkapp.com"}),(0,e.jsx)("li",{children:"\u2022 Port: 587"}),(0,e.jsx)("li",{children:"\u2022 Username & Password: Your Server API Token"}),(0,e.jsx)("li",{children:"\u2022 Uses API for better reliability in WebContainer"})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("strong",{children:"Gmail:"}),(0,e.jsxs)("ul",{className:"ml-4 mt-1 space-y-1",children:[(0,e.jsx)("li",{children:"\u2022 Host: smtp.gmail.com"}),(0,e.jsx)("li",{children:"\u2022 Port: 587"}),(0,e.jsx)("li",{children:"\u2022 Username: Your Gmail address"}),(0,e.jsx)("li",{children:"\u2022 Password: App-specific password (not your regular password)"})]})]})]})]}),s&&!s.success&&s.error?.includes("timeout")&&(0,e.jsxs)("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-md",children:[(0,e.jsx)("div",{className:"font-medium text-yellow-800",children:"Network Timeout Notice"}),(0,e.jsx)("div",{className:"mt-1 text-sm text-yellow-700",children:"SMTP connections may be restricted in this environment. For Postmark users, the system will automatically use the API instead of SMTP for better reliability."})]})]})}export{p as default};
