import{a as y}from"/build/_shared/chunk-SPIE36GA.js";import{a as b,b as f}from"/build/_shared/chunk-2AM5CV3C.js";import{a as _}from"/build/_shared/chunk-JCS7QHYQ.js";import{a as k}from"/build/_shared/chunk-EQO6UGTB.js";import"/build/_shared/chunk-WNM36PAG.js";import{K as x,w as o,z as p}from"/build/_shared/chunk-UL7U4PKM.js";import{a as i,b as g,c as N,d as v,e as l}from"/build/_shared/chunk-5V67YUFU.js";import{c as a}from"/build/_shared/chunk-6BTGMMR5.js";import{a as L}from"/build/_shared/chunk-PGOH7JLP.js";import{h as s,m as c,q as u}from"/build/_shared/chunk-2HORKBMA.js";import{c as r}from"/build/_shared/chunk-Q3IECNXJ.js";var B=r(L(),1);var A=r(k(),1),D=r(_(),1);var e=r(u(),1);function h(){let{user:C,subscribers:n,error:m}=c(),w=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),S=t=>{switch(t){case"subscribed":return"bg-green-100 text-green-800";case"unsubscribed":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return(0,e.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,e.jsx)(b,{}),(0,e.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,e.jsx)(f,{user:C}),(0,e.jsx)("main",{className:"flex-1 overflow-y-auto p-6",children:(0,e.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Subscribers"}),(0,e.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage your email subscribers and their preferences."})]}),(0,e.jsxs)("div",{className:"flex space-x-3",children:[(0,e.jsx)(s,{to:"/subscribers/import",children:(0,e.jsxs)(a,{variant:"outline",children:[(0,e.jsx)(o,{className:"h-4 w-4 mr-2"}),"Import Subscribers"]})}),(0,e.jsx)(s,{to:"/subscribers/new",children:(0,e.jsxs)(a,{children:[(0,e.jsx)(o,{className:"h-4 w-4 mr-2"}),"Add Subscriber"]})})]})]}),m&&(0,e.jsx)(i,{className:"mb-6 border-red-200 bg-red-50",children:(0,e.jsx)(l,{className:"p-4",children:(0,e.jsx)("p",{className:"text-red-800",children:m})})}),(0,e.jsx)(i,{className:"mb-6",children:(0,e.jsx)(l,{className:"p-4",children:(0,e.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,e.jsxs)("div",{className:"flex-1 relative",children:[(0,e.jsx)(p,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,e.jsx)(y,{placeholder:"Search subscribers by email or name...",className:"pl-10"})]}),(0,e.jsx)(a,{variant:"outline",children:"Filter"})]})})}),n.length===0?(0,e.jsx)(i,{children:(0,e.jsxs)(l,{className:"text-center py-12",children:[(0,e.jsx)(x,{className:"h-16 w-16 mx-auto mb-4 text-gray-300"}),(0,e.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No subscribers yet"}),(0,e.jsx)("p",{className:"text-gray-600 mb-6",children:"Start building your audience by adding your first subscriber."}),(0,e.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,e.jsx)(s,{to:"/subscribers/new",children:(0,e.jsxs)(a,{children:[(0,e.jsx)(o,{className:"h-4 w-4 mr-2"}),"Add Subscriber"]})}),(0,e.jsx)(s,{to:"/subscribers/import",children:(0,e.jsx)(a,{variant:"outline",children:"Import from CSV"})})]})]})}):(0,e.jsxs)(i,{children:[(0,e.jsxs)(g,{children:[(0,e.jsxs)(N,{children:["All Subscribers (",n.length,")"]}),(0,e.jsx)(v,{children:"Manage and view all your email subscribers"})]}),(0,e.jsx)(l,{children:(0,e.jsx)("div",{className:"overflow-x-auto",children:(0,e.jsxs)("table",{className:"w-full",children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{className:"border-b",children:[(0,e.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Subscriber"}),(0,e.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Status"}),(0,e.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Lists"}),(0,e.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Subscribed"}),(0,e.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Actions"})]})}),(0,e.jsx)("tbody",{children:n.map(t=>(0,e.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,e.jsx)("td",{className:"py-3 px-4",children:(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"font-medium text-gray-900",children:[t.first_name," ",t.last_name]}),(0,e.jsx)("div",{className:"text-sm text-gray-600",children:t.email})]})}),(0,e.jsx)("td",{className:"py-3 px-4",children:(0,e.jsx)("span",{className:`px-2 py-1 text-xs rounded-full ${S(t.status)}`,children:t.status})}),(0,e.jsx)("td",{className:"py-3 px-4",children:(0,e.jsxs)("div",{className:"flex flex-wrap gap-1",children:[t.list_subscribers?.slice(0,3).map(d=>(0,e.jsxs)("span",{className:"inline-flex items-center px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800",children:[(0,e.jsx)("div",{className:"w-2 h-2 rounded-full mr-1",style:{backgroundColor:d.lists?.color||"#gray"}}),d.lists?.name||"Unknown"]},d.list_id)),t.list_subscribers?.length>3&&(0,e.jsxs)("span",{className:"text-xs text-gray-500",children:["+",t.list_subscribers.length-3," more"]})]})}),(0,e.jsx)("td",{className:"py-3 px-4 text-sm text-gray-600",children:w(t.created_at)}),(0,e.jsx)("td",{className:"py-3 px-4",children:(0,e.jsxs)("div",{className:"flex space-x-2",children:[(0,e.jsx)(s,{to:`/subscribers/${t.id}`,children:(0,e.jsx)(a,{variant:"outline",size:"sm",children:"View"})}),(0,e.jsx)(s,{to:`/subscribers/${t.id}/edit`,children:(0,e.jsx)(a,{variant:"outline",size:"sm",children:"Edit"})})]})})]},t.id))})]})})})]})]})})]})]})}export{h as default};
