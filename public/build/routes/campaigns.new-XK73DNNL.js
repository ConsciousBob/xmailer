import{a as k}from"/build/_shared/chunk-KDF5L5GZ.js";import{a as o}from"/build/_shared/chunk-SPIE36GA.js";import{a as _,b as L}from"/build/_shared/chunk-2AM5CV3C.js";import{a as q}from"/build/_shared/chunk-JCS7QHYQ.js";import{a as $}from"/build/_shared/chunk-EQO6UGTB.js";import"/build/_shared/chunk-WNM36PAG.js";import{M as D,b as C,h as w,y as S}from"/build/_shared/chunk-UL7U4PKM.js";import{a as t,b as d,c,d as m,e as s}from"/build/_shared/chunk-5V67YUFU.js";import{c as r}from"/build/_shared/chunk-6BTGMMR5.js";import{a as H}from"/build/_shared/chunk-PGOH7JLP.js";import{e as v,h as g,i as x,m as h,n as N,q as y}from"/build/_shared/chunk-2HORKBMA.js";import{c as l}from"/build/_shared/chunk-Q3IECNXJ.js";var T=l(H(),1);var O=l($(),1),j=l(q(),1);var e=l(y(),1);function A(){let{user:F,lists:u,error:b}=h(),i=N(),n=v().state==="submitting",I=new Date,p=new Date(I);p.setDate(p.getDate()+1);let f=p.toISOString().split("T")[0],B="09:00";return(0,e.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,e.jsx)(_,{}),(0,e.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,e.jsx)(L,{user:F}),(0,e.jsx)("main",{className:"flex-1 overflow-y-auto p-6",children:(0,e.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,e.jsxs)("div",{className:"flex items-center mb-8",children:[(0,e.jsx)(g,{to:"/campaigns",className:"mr-4",children:(0,e.jsxs)(r,{variant:"outline",size:"sm",children:[(0,e.jsx)(C,{className:"h-4 w-4 mr-2"}),"Back to Campaigns"]})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Create New Campaign"}),(0,e.jsx)("p",{className:"text-gray-600 mt-2",children:"Design and send your email campaign to your audience."})]})]}),b&&(0,e.jsx)(t,{className:"mb-6 border-red-200 bg-red-50",children:(0,e.jsx)(s,{className:"p-4",children:(0,e.jsx)("p",{className:"text-red-800",children:b})})}),(0,e.jsxs)(x,{method:"post",className:"space-y-8",children:[(0,e.jsxs)(t,{children:[(0,e.jsxs)(d,{children:[(0,e.jsx)(c,{children:"Campaign Details"}),(0,e.jsx)(m,{children:"Basic information about your email campaign"})]}),(0,e.jsxs)(s,{className:"space-y-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Campaign Name *"}),(0,e.jsx)(o,{name:"name",placeholder:"e.g., Weekly Newsletter - January 2024",required:!0,className:"w-full"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Subject *"}),(0,e.jsx)(o,{name:"subject",placeholder:"e.g., Your Weekly Update from xMailer",required:!0,className:"w-full"})]})]})]}),(0,e.jsxs)(t,{children:[(0,e.jsxs)(d,{children:[(0,e.jsx)(c,{children:"Email Content"}),(0,e.jsx)(m,{children:"Write your email content (HTML supported)"})]}),(0,e.jsxs)(s,{children:[(0,e.jsx)(k,{name:"content",placeholder:"Write your email content here. HTML is supported for formatting.",required:!0,className:"w-full min-h-[300px]"}),(0,e.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"HTML tags are supported for formatting your email content."})]})]}),(0,e.jsxs)(t,{children:[(0,e.jsxs)(d,{children:[(0,e.jsx)(c,{children:"Audience Targeting"}),(0,e.jsx)(m,{children:"Choose who will receive this campaign"})]}),(0,e.jsxs)(s,{className:"space-y-6",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsx)("input",{type:"checkbox",id:"targetAllSubscribers",name:"targetAllSubscribers",value:"true",className:"rounded border-gray-300"}),(0,e.jsx)("label",{htmlFor:"targetAllSubscribers",className:"text-sm font-medium text-gray-700",children:"Target all subscribers"})]}),u.length>0&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Include Lists"}),(0,e.jsx)("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:u.map(a=>(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsx)("input",{type:"checkbox",id:`include-${a.id}`,name:"includeLists",value:a.id,className:"rounded border-gray-300"}),(0,e.jsxs)("label",{htmlFor:`include-${a.id}`,className:"text-sm text-gray-700 flex items-center",children:[(0,e.jsx)("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:a.color}}),a.name," (",a.subscribed_members||0," subscribers)"]})]},a.id))})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Exclude Lists (Optional)"}),(0,e.jsx)("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:u.map(a=>(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsx)("input",{type:"checkbox",id:`exclude-${a.id}`,name:"excludeLists",value:a.id,className:"rounded border-gray-300"}),(0,e.jsxs)("label",{htmlFor:`exclude-${a.id}`,className:"text-sm text-gray-700 flex items-center",children:[(0,e.jsx)("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:a.color}}),a.name]})]},a.id))})]})]}),u.length===0&&(0,e.jsxs)("div",{className:"text-center py-6 bg-gray-50 rounded-lg",children:[(0,e.jsx)("p",{className:"text-gray-600 mb-4",children:"You don't have any active lists yet."}),(0,e.jsx)(g,{to:"/lists",children:(0,e.jsx)(r,{variant:"outline",children:"Create Your First List"})})]})]})]}),(0,e.jsxs)(t,{children:[(0,e.jsxs)(d,{children:[(0,e.jsx)(c,{children:"Scheduling Options"}),(0,e.jsx)(m,{children:"Choose when to send your campaign"})]}),(0,e.jsxs)(s,{className:"space-y-4",children:[(0,e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Schedule Date"}),(0,e.jsx)(o,{type:"date",name:"scheduledDate",defaultValue:f,min:f,className:"w-full"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Schedule Time"}),(0,e.jsx)(o,{type:"time",name:"scheduledTime",defaultValue:B,className:"w-full"})]})]}),(0,e.jsx)("p",{className:"text-xs text-gray-500",children:"Leave date and time fields for immediate sending, or set them for scheduled delivery."})]})]}),i?.error&&(0,e.jsx)(t,{className:"border-red-200 bg-red-50",children:(0,e.jsx)(s,{className:"p-4",children:(0,e.jsx)("p",{className:"text-red-800",children:i.error})})}),i?.success&&(0,e.jsx)(t,{className:"border-green-200 bg-green-50",children:(0,e.jsxs)(s,{className:"p-4",children:[(0,e.jsx)("p",{className:"text-green-800",children:i.success}),i.campaignId&&(0,e.jsx)("div",{className:"mt-2",children:(0,e.jsx)(g,{to:`/campaigns/${i.campaignId}`,children:(0,e.jsx)(r,{variant:"outline",size:"sm",children:"View Campaign"})})})]})}),(0,e.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,e.jsxs)(r,{type:"submit",name:"_action",value:"save",variant:"outline",disabled:n,children:[(0,e.jsx)(S,{className:"h-4 w-4 mr-2"}),n?"Saving...":"Save as Draft"]}),(0,e.jsxs)(r,{type:"submit",name:"_action",value:"send",disabled:n,className:"bg-green-600 hover:bg-green-700",children:[(0,e.jsx)(D,{className:"h-4 w-4 mr-2"}),n?"Sending...":"Send Now"]}),(0,e.jsxs)(r,{type:"submit",name:"_action",value:"schedule",disabled:n,className:"bg-blue-600 hover:bg-blue-700",children:[(0,e.jsx)(w,{className:"h-4 w-4 mr-2"}),n?"Scheduling...":"Schedule Campaign"]})]})]})]})})]})]})}export{A as default};
